<div class="logic-palette">
  <h3>LTL Constructor</h3>
  
  <div class="formula-code">
    <code>{{ formulaDisplay() }}</code>
  </div>

  <div class="variable-selector">
    <span>Edit Proposition:</span>
    <div class="prop-selector">
      @for (prop of propositionIndices(); track $index) {
        <button 
          [class.selected]="selectedIndex() === $index"
          (click)="selectProposition($index)">
          P{{ $index }}
        </button>
      }
    </div>
    <span>Set Value:</span>
    <div class="var-chips">
      @for (v of availableVars(); track v) {
        <button 
          [class.active]="currentVar() === v"
          (click)="setVar(v)">
          {{ v }}
        </button>
      } @empty {
        <em style="font-size: 0.7rem; color: #666;">No variables in trace</em>
      }
    </div>
  </div>

  <div class="button-grid">
    <button class="btn-always" (click)="addAlways()">
      ‚ñ° <span>Always</span>
    </button>
    <button class="btn-eventually" (click)="addEventually()">
      ‚óá <span>Eventually</span>
    </button>
    <button class="btn-next" (click)="addNext()">
      ‚óã <span>Next</span>
    </button>
    <button class="btn-not" (click)="addNot()">
      ¬¨ <span>Not</span>
    </button>

    <button class="btn-and" (click)="addAnd()">
      ‚àß <span>And</span>
    </button>
    <button class="btn-or" (click)="addOr()">
      ‚à® <span>Or</span>
    </button>
    <button class="btn-until" (click)="addUntil()">
      ùí∞ <span>Until</span>
    </button>

    <button (click)="reset(currentVar())">
      {{ currentVar() }} <span>Prop</span>
    </button>

    <button class="btn-full" (click)="reset('p')">
      RESET TO P
    </button>
  </div>
</div>